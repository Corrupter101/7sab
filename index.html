<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Ø­Ø³Ø§Ø¨ Ø§Ù„ØªØ¶Ù…ÙŠÙ†</title>
  <script src="https://code.responsivevoice.org/responsivevoice.js?key=WIZiyVE9"></script>
  <style>
    html, body { height: 100%; margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; background: #0b568f; color: white; text-align: center; direction: rtl; }
    .container { height: 100%; display: flex; flex-direction: column; justify-content: flex-start; align-items: center; padding: 10px; box-sizing: border-box; }
    h2 { margin: 10px 0; }
    .player { display: flex; flex-direction: column; align-items: center; background: #1976d2; padding: 10px; border-radius: 8px; width: 100%; max-width: 360px; margin-bottom: 10px; }
    .player-top { display: flex; justify-content: space-between; align-items: center; width: 100%; margin-bottom: 8px; }
    .player input[type="text"] { width: 60px; font-size: 16px; text-align: center; }
    .player .point-input { width: 80px; font-size: 16px; margin-top: 5px; text-align: center; }
    .player button { font-size: 18px; padding: 5px 10px; margin: 0 3px; }
    .reset-btn, .announce-btn { margin-top: 10px; background: red; color: white; padding: 10px 20px; border: none; font-size: 16px; border-radius: 6px; }
    .announce-btn { background: green; }
    .name-input { width: 120px; font-size: 14px; text-align: center; margin-right: 5px; }
  </style>
</head>
<body>
  <div class="container">
    <h2>Ù‚ÙŠØ¯ Ø¹Ø§Ù…</h2>
    <div id="players">
      <div class="player" id="player0">
        <div class="player-top">
          <button onclick="applyPoints('player0', -1)">-</button>
          <input type="text" class="score-display" value="0" readonly>
          <button onclick="applyPoints('player0', 1)">+</button>
          <input type="text" class="name-input" placeholder="Ø§Ù„Ù„Ø§Ø¹Ø¨ 1" onchange="updateName('player0', this.value)">
        </div>
        <input type="number" class="point-input" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Ù‚Ø§Ø·">
      </div>
      <div class="player" id="player1">
        <div class="player-top">
          <button onclick="applyPoints('player1', -1)">-</button>
          <input type="text" class="score-display" value="0" readonly>
          <button onclick="applyPoints('player1', 1)">+</button>
          <input type="text" class="name-input" placeholder="Ø§Ù„Ù„Ø§Ø¹Ø¨ 2" onchange="updateName('player1', this.value)">
        </div>
        <input type="number" class="point-input" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Ù‚Ø§Ø·">
      </div>
      <div class="player" id="player2">
        <div class="player-top">
          <button onclick="applyPoints('player2', -1)">-</button>
          <input type="text" class="score-display" value="0" readonly>
          <button onclick="applyPoints('player2', 1)">+</button>
          <input type="text" class="name-input" placeholder="Ø§Ù„Ù„Ø§Ø¹Ø¨ 3" onchange="updateName('player2', this.value)">
        </div>
        <input type="number" class="point-input" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Ù‚Ø§Ø·">
      </div>
      <div class="player" id="player3">
        <div class="player-top">
          <button onclick="applyPoints('player3', -1)">-</button>
          <input type="text" class="score-display" value="0" readonly>
          <button onclick="applyPoints('player3', 1)">+</button>
          <input type="text" class="name-input" placeholder="Ø§Ù„Ù„Ø§Ø¹Ø¨ 4" onchange="updateName('player3', this.value)">
        </div>
        <input type="number" class="point-input" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Ù‚Ø§Ø·">
      </div>
    </div>
    <button class="reset-btn" onclick="resetAll()">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
    <button class="announce-btn" onclick="announceResults()">ðŸ“¢ Ù†Ø´Ø± Ø§Ù„Ù†ØªØ§Ø¦Ø¬</button>
  </div>

  <script>
    const playerData = {
      player0: { name: '', score: 0 },
      player1: { name: '', score: 0 },
      player2: { name: '', score: 0 },
      player3: { name: '', score: 0 },
    };

    function applyPoints(id, sign) {
      const playerEl = document.getElementById(id);
      const inputEl = playerEl.querySelector(".point-input");
      const displayEl = playerEl.querySelector(".score-display");
      const value = parseInt(inputEl.value) || 0;
      playerData[id].score += sign * value;
      displayEl.value = playerData[id].score;
      inputEl.value = "";
    }

    function updateName(id, name) {
      playerData[id].name = name;
    }

    function resetAll() {
      for (const id in playerData) {
        playerData[id].score = 0;
        const playerEl = document.getElementById(id);
        const displayEl = playerEl.querySelector(".score-display");
        displayEl.value = 0;
      }
    }

    function announceResults() {
      const results = Object.entries(playerData).map(([id, data]) => {
        const name = data.name.trim() || id;
        return `${name} Ù„Ø¯ÙŠÙ‡ ${data.score} Ø¨Ù†Ø·`;
      });
      const message = results.join("ØŒ ");
      responsiveVoice.speak(message, "Arabic Male");
    }
  </script>
</body>
</html>